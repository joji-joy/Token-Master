<!DOCTYPE html>
<html>
<head>
    <title>Token Track- Token Master</title>
    <link rel="stylesheet" href="../static/css/token1.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Nova+Square&family=PT+Mono&family=Poppins:wght@300&family=Quicksand:wght@500&family=Roboto:ital,wght@1,300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <style>
        .material-symbols-outlined {
          font-variation-settings:
          'FILL' 0,
          'wght' 300,
          'GRAD' 0,
          'opsz' 24
        }
    </style>
</head>
<body>
    <button class="material-symbols-outlined" id="backbut" onclick="history.back()">arrow_back</button>
    <div id="joe1" style="margin-top: 5em;">
        <p id="head">Token Number</p>
        <p><span id="tokenValue">00</span></p>
    </div>

    <script>
        function updateTokenValue() {
            // Create a new XMLHttpRequest object
            var xhr = new XMLHttpRequest();
            xhr.open('GET', '/get_token', true);

            // Set up an event handler for when the request is complete
            xhr.onload = function() {
                if (xhr.status === 200) {
                    var data = JSON.parse(xhr.responseText);
                    document.getElementById('tokenValue').textContent = data.token;
                }
            };

            // Send the request
            xhr.send();
        }

        // Call the updateTokenValue function initially
        updateTokenValue();

        // Periodically update the token value every few seconds (e.g., every 5 seconds)
        setInterval(updateTokenValue, 1000);
    </script>
</body>
</html>
